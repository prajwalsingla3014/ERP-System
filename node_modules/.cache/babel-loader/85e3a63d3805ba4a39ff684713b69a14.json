{"ast":null,"code":"var _jsxFileName = \"F:\\\\Home\\\\github\\\\erp-web\\\\build_version\\\\erp_system\\\\src\\\\components\\\\purchase\\\\purchasecreate.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport PurchaseRow from \"../purchase/purchaserow\";\nexport default class PurchaseCreate extends React.Component {\n  constructor(state) {\n    super(state);\n\n    this.handleAddEvent = event => {\n      var len1 = this.state.purchased_items.length;\n      var id = (len1 + 1).toString();\n      var purchased_item = {\n        id: id,\n        product: \"\",\n        quantity: \"\",\n        discount: \"\",\n        discount_type: \"\",\n        price: \"\",\n        tax: \"\",\n        taxx: \"\",\n        sub_total: \"\"\n      };\n      this.state.purchased_items.push(purchased_item);\n      this.setState(this.state.purchased_items);\n    };\n\n    this.handleProductTable = event => {\n      event.preventDefault();\n      var item = {\n        id: event.target.id,\n        name: event.target.name,\n        value: event.target.value\n      };\n      var purchased_items = this.state.purchased_items.slice();\n      var newProducts = purchased_items.map(function (purchased_item) {\n        for (var key in purchased_item) {\n          if (key == item.name && purchased_item.id == item.id) {\n            purchased_item[key] = item.value;\n          }\n        }\n\n        return purchased_item;\n      });\n      this.setState({\n        purchased_items: newProducts\n      });\n      var len = this.state.purchased_items.length;\n      var pro = this.state.purchased_items[len - 1].product;\n      const found = this.state.items.findIndex(o1 => o1.id == pro);\n      const productnew = [...this.state.purchased_items];\n      productnew[len - 1].taxx = this.state.items[found].tax.rate;\n      productnew[len - 1].tax = this.state.items[found].tax.id;\n      this.setState({\n        purchased_items: productnew\n      });\n      console.log(this.state.purchased_items);\n    };\n\n    this.updateTax = event => {\n      event.preventDefault();\n      const productnew = [...this.state.purchased_items];\n      var len = productnew.length;\n\n      if (len == 1) {\n        productnew[0].taxx = event.target.value.slice(3, 6);\n        this.setState({\n          purchased_items: productnew\n        });\n      }\n\n      if (len > 1) {\n        productnew[len - 1].taxx = event.target.value.slice(3, 6);\n        this.setState({\n          purchased_items: productnew\n        });\n      }\n    };\n\n    this.renderSubtotal = () => {\n      var len = this.state.purchased_items.length;\n      var total_subtotal = 0;\n\n      for (var i = 0; i < len; i++) {\n        if (len == 1) {\n          total_subtotal = total_subtotal + this.state.purchased_items[i].price * this.state.purchased_items[i].quantity;\n        }\n\n        if (len > 1) {\n          total_subtotal = total_subtotal + this.state.purchased_items[i].price * this.state.purchased_items[i].quantity;\n        }\n      }\n\n      return total_subtotal;\n    };\n\n    this.renderDiscount = () => {\n      var len = this.state.purchased_items.length;\n      var total_discount = 0;\n\n      for (var i = 0; i < len; i++) {\n        if (len == 1 && this.state.purchased_items[i].discount_type == 'amount') {\n          total_discount = total_discount + Number(this.state.purchased_items[i].discount);\n        }\n\n        if (len == 1 && this.state.purchased_items[i].discount_type == 'percentage') {\n          total_discount = total_discount + this.state.purchased_items[i].discount * this.state.purchased_items[i].quantity * this.state.purchased_items[i].price / 100;\n        }\n\n        if (len > 1 && this.state.purchased_items[0].discount_type == 'amount') {\n          total_discount = total_discount + Number(this.state.purchased_items[i].discount);\n        }\n\n        if (len > 1 && this.state.purchased_items[0].discount_type == 'percentage') {\n          total_discount = total_discount + this.state.purchased_items[i].discount * this.state.purchased_items[i].quantity * this.state.purchased_items[i].price / 100;\n        }\n      }\n\n      return total_discount;\n    };\n\n    this.renderTax = () => {\n      var len = this.state.purchased_items.length;\n      var total_tax = 0;\n\n      for (var i = 0; i < len; i++) {\n        if (len == 1) {\n          total_tax = total_tax + this.state.purchased_items[i].price * this.state.purchased_items[i].taxx * this.state.purchased_items[i].quantity / 100;\n        }\n\n        if (len > 1) {\n          total_tax = total_tax + this.state.purchased_items[i].price * this.state.purchased_items[i].taxx * this.state.purchased_items[i].quantity / 100;\n        }\n      }\n\n      return total_tax;\n    };\n\n    this.renderAmount = () => {\n      var len = this.state.purchased_items.length;\n      var total_amount = 0;\n\n      for (var i = 0; i < len; i++) {\n        if (len == 1 && this.state.purchased_items[i].discount_type == 'amount') {\n          total_amount = total_amount + this.state.purchased_items[i].price * this.state.purchased_items[i].quantity + this.state.purchased_items[i].price * this.state.purchased_items[i].taxx * this.state.purchased_items[i].quantity / 100 - Number(this.state.purchased_items[i].discount);\n        }\n\n        if (len == 1 && this.state.purchased_items[i].discount_type == 'percentage') {\n          total_amount = total_amount + this.state.purchased_items[i].price * this.state.purchased_items[i].quantity + this.state.purchased_items[i].price * this.state.purchased_items[i].taxx * this.state.purchased_items[i].quantity / 100 - this.state.purchased_items[i].discount * this.state.purchased_items[i].price * this.state.purchased_items[i].quantity / 100;\n        }\n\n        if (len > 1 && this.state.purchased_items[0].discount_type == 'amount') {\n          total_amount = total_amount + this.state.purchased_items[i].price * this.state.purchased_items[i].quantity + this.state.purchased_items[i].price * this.state.purchased_items[i].taxx * this.state.purchased_items[i].quantity / 100 - Number(this.state.purchased_items[i].discount);\n        }\n\n        if (len > 1 && this.state.purchased_items[0].discount_type == 'percentage') {\n          total_amount = total_amount + this.state.purchased_items[i].price * this.state.purchased_items[i].quantity + this.state.purchased_items[i].price * this.state.purchased_items[i].taxx * this.state.purchased_items[i].quantity / 100 - this.state.purchased_items[i].discount * this.state.purchased_items[i].price * this.state.purchased_items[i].quantity / 100;\n        }\n      }\n\n      return total_amount;\n    };\n\n    this.changeHandler = e => {\n      const {\n        purchased_items\n      } = { ...this.state\n      };\n      const currentState = purchased_items;\n      const {\n        name,\n        value\n      } = e.target;\n      currentState[name] = value;\n      this.setState({\n        [e.target.name]: e.target.value,\n        purchased_items: currentState\n      });\n    };\n\n    this.updateHandler = e => {\n      const item = [...this.state.purchased_items];\n      var len = item.length;\n\n      if (len == 1) {\n        item[0].discount_type = e.target.value;\n        this.setState({\n          purchased_items: item\n        });\n      }\n\n      if (len > 1) {\n        item[len - 1].discount_type = this.state.purchased_items[0].discount_type;\n        this.setState({\n          purchased_items: item\n        });\n      }\n    };\n\n    this.submitHandler = async e => {\n      e.preventDefault();\n      var total_subtotal = this.renderSubtotal();\n      var total_tax = this.renderTax();\n      var total_discount = this.renderDiscount();\n      var total_amount = this.renderAmount();\n      var someDate = new Date();\n      someDate.setDate(someDate.getDate() + 0);\n      var date = someDate.toISOString().substr(0, 10);\n      var some = new Date();\n      some.setDate(some.getDate() + 5);\n      var date2 = some.toISOString().substr(0, 10);\n      var purno = this.state.pur.slice(this.state.pur.length - 2, this.state.pur.length) > 0 ? this.state.pur.slice(0, this.state.pur.length - 1).concat(parseInt(this.state.pur.slice(this.state.pur.length - 2, this.state.pur.length)) + 1) : this.state.pur;\n      await this.setState({\n        total_subtotal: total_subtotal,\n        total_discount: total_discount,\n        total_tax: total_tax,\n        total_amount: total_amount,\n        invoice_date: date,\n        expected_delivery: date2,\n        invoice_no: purno\n      });\n      const item = [...this.state.purchased_items];\n      var len = this.state.purchased_items.length;\n\n      for (var i = 0; i < len; i++) {\n        item[i].sub_total = this.state.purchased_items[i].price * this.state.purchased_items[i].quantity;\n        item[i].discount_type = this.state.purchased_items[0].discount_type;\n        await this.setState({\n          purchased_items: item\n        });\n      }\n\n      const sale_invoice = {\n        supplier: this.state.supplier,\n        invoice_no: this.state.invoice_no,\n        invoice_date: this.state.invoice_date,\n        payment_terms: this.state.payment_terms,\n        expected_delivery: this.state.expected_delivery,\n        purchased_items: this.state.purchased_items,\n        total_subtotal: this.state.total_subtotal,\n        total_tax: this.state.total_tax,\n        total_discount: this.state.total_discount,\n        total_amount: this.state.total_amount,\n        notes: this.state.notes,\n        terms_and_conditions: this.state.terms_and_conditions\n      };\n      console.log(sale_invoice);\n      await axios.post(\"https://farzi-erp.herokuapp.com/invoice/purchase_invoice/?ordering=created_at\", sale_invoice).then(res => {\n        console.log(res);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.state = {\n      active: false,\n      filterText: \"\",\n      pur: \"\",\n      items: [{\n        id: ' ',\n        name: ' ',\n        description: ' ',\n        hsn_code: ' ',\n        sku: ' ',\n        tax: [],\n        selling_price: ' '\n      }],\n      suppliers: [{\n        id: ' ',\n        first_name: ' ',\n        last_name: ' ',\n        display_name: ' '\n      }],\n      supplier: ' ',\n      taxes: [{\n        tax1: 'GST 0',\n        tax2: 'GST 5',\n        tax3: 'GST 12',\n        tax4: 'GST 18',\n        tax5: 'GST 28'\n      }],\n      invoice_no: ' ',\n      invoice_date: ' ',\n      payment_terms: ' ',\n      expected_delivery: ' ',\n      purchased_items: [{\n        id: '1',\n        price: ' ',\n        quantity: ' ',\n        discount_type: ' ',\n        discount: ' ',\n        sub_total: ' ',\n        product: ' ',\n        tax: ' ',\n        taxx: ' '\n      }],\n      pa: [],\n      notes: ' ',\n      terms_and_conditions: ' ',\n      total_subtotal: ' ',\n      total_tax: ' ',\n      total_discount: ' ',\n      total_amount: ' '\n    };\n  }\n\n  handleUserInput(filterText) {\n    this.setState({\n      filterText: filterText\n    });\n  }\n\n  async componentDidMount() {\n    await axios.get(\"https://farzi-erp.herokuapp.com/persons_manager/supplier/?ordering=created_at\").then(res => {\n      this.setState({\n        suppliers: res.data\n      });\n      console.log(res);\n    }).catch(err => {\n      console.log(err);\n    });\n    await axios.get(\"https://farzi-erp.herokuapp.com/shared/payment_terms/?ordering=created_at\").then(res => {\n      var t = res.data.length;\n\n      for (var i = 0; i < t; i++) {\n        var t1 = res.data[i].id;\n        this.setState({\n          pa: [...this.state.pa, t1]\n        });\n      }\n\n      console.log(res);\n    }).catch(err => {\n      console.log(err);\n    });\n    await axios.get(\"https://farzi-erp.herokuapp.com/inventory/product/?ordering=created_at\").then(res => {\n      this.setState({\n        items: res.data\n      });\n      console.log(res);\n    }).catch(err => {\n      console.log(err.message);\n    });\n    await axios.get(\"https://farzi-erp.herokuapp.com/invoice/purchase_invoice/?ordering=created_at\").then(res => {\n      var t = res.data.length;\n      var t1 = res.data[t - 1].invoice_no;\n      this.setState({\n        pur: t1\n      });\n      console.log(res);\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    var someDate = new Date();\n    someDate.setDate(someDate.getDate() + 0);\n    var date = someDate.toISOString().substr(0, 10);\n    var some = new Date();\n    some.setDate(some.getDate() + 5);\n    var date2 = some.toISOString().substr(0, 10);\n    var onProductTableUpdate = this.handleProductTable;\n    var changeHandler = this.changeHandler;\n    var items = this.state.items;\n    var filterText = this.state.filterText;\n    let supplierss = this.state.suppliers;\n    let suppliers = supplierss.map(supp => /*#__PURE__*/React.createElement(\"option\", {\n      value: supp.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 13\n      }\n    }, supp.display_name));\n    var prod = this.state.purchased_items.map(function (prod) {\n      if (prod.product.indexOf(filterText) === -1) {\n        return;\n      }\n\n      return /*#__PURE__*/React.createElement(PurchaseRow, {\n        onProductTableUpdate: onProductTableUpdate,\n        changeHandler: changeHandler,\n        prod: prod,\n        key: prod.id,\n        items: items,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 21\n        }\n      });\n    });\n    return /*#__PURE__*/React.createElement(\"section\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-primary\",\n      style: {\n        border: 'none',\n        boxShadow: '0 0 1px rgba(0,0,0,0.1), 0 1px 2px rgba(0,0,0,0.1)'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"card-title\",\n      style: {\n        fontSize: '22px',\n        fontFamily: 'Acme'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 29\n      }\n    }, \"New Purchase\")), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"form-horizontal\",\n      onSubmit: this.submitHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"col-sm-2 col-form-label\",\n      style: {\n        fontSize: '20px',\n        fontFamily: 'Acme'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 37\n      }\n    }, \"SupplierName *\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      onChange: this.changeHandler,\n      name: \"supplier\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \" \",\n      disabled: true,\n      selected: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 45\n      }\n    }, \"Choose name\"), suppliers))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"col-sm-2 col-form-label\",\n      style: {\n        fontSize: '20px',\n        fontFamily: 'Acme'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 37\n      }\n    }, \"Purchase No *\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      onChange: this.changeHandler,\n      name: \"invoice_no\",\n      value: this.state.pur.slice(this.state.pur.length - 2, this.state.pur.length) > 0 ? this.state.pur.slice(0, this.state.pur.length - 1).concat(parseInt(this.state.pur.slice(this.state.pur.length - 2, this.state.pur.length)) + 1) : this.state.pur,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"col-sm-2 col-form-label\",\n      style: {\n        fontSize: '20px',\n        fontFamily: 'Acme'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 37\n      }\n    }, \"Purchase Date\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"date\",\n      className: \"form-control\",\n      id: \"today\",\n      defaultValue: date,\n      onLoad: this.updateHandler,\n      name: \"invoice_date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"col-sm-1 col-form-label\",\n      style: {\n        fontSize: '20px',\n        fontFamily: 'Acme'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 37\n      }\n    }, \"Terms\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      onChange: this.changeHandler,\n      name: \"payment_terms\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: this.state.pa[0],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 45\n      }\n    }, \"Net 15\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: this.state.pa[1],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 45\n      }\n    }, \"Net 30\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: this.state.pa[2],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 45\n      }\n    }, \"Net 45\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: this.state.pa[3],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 45\n      }\n    }, \"Net 60\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: this.state.pa[4],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 45\n      }\n    }, \"Due end of month\"), \"nvoice\", /*#__PURE__*/React.createElement(\"option\", {\n      value: this.state.pa[5],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 45\n      }\n    }, \"Due end of next month\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: this.state.pa[6],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 45\n      }\n    }, \"Due on receipt\"))), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"col-sm-3 col-form-label \",\n      style: {\n        fontSize: '20px',\n        fontFamily: 'Acme'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 37\n      }\n    }, \"Expected Delivery\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"date\",\n      className: \"form-control\",\n      defaultValue: date2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-bordered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      style: {\n        width: '20%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      style: {\n        marginLeft: '40px',\n        fontSize: '16px',\n        fontFamily: 'Acme'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 71\n      }\n    }, \"Item Details\")), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      style: {\n        marginLeft: '0px',\n        fontSize: '16px',\n        fontFamily: 'Acme'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 50\n      }\n    }, \"Quantity\")), /*#__PURE__*/React.createElement(\"th\", {\n      style: {\n        width: '20%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      style: {\n        marginLeft: '35px',\n        fontSize: '16px',\n        fontFamily: 'Acme'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 71\n      }\n    }, \"Price/Quantity\")), /*#__PURE__*/React.createElement(\"th\", {\n      style: {\n        width: '20%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      style: {\n        marginTop: '22px',\n        fontFamily: 'Acme'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 57\n      }\n    }, \"Discount\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"amount\",\n      name: \"discount_type\",\n      id: \"amount\",\n      onChange: this.updateHandler,\n      style: {\n        marginLeft: '-5px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 57\n      }\n    }), /*#__PURE__*/React.createElement(\"h6\", {\n      for: \"amount\",\n      style: {\n        fontSize: '14px',\n        marginTop: '-20px',\n        marginLeft: '15px',\n        fontFamily: 'Acme'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 57\n      }\n    }, \"Amount\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"percentage\",\n      name: \"discount_type\",\n      id: \"percentage\",\n      onChange: this.updateHandler,\n      style: {\n        marginLeft: '-5px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 57\n      }\n    }), /*#__PURE__*/React.createElement(\"h6\", {\n      for: \"percentage\",\n      style: {\n        fontSize: '14px',\n        marginTop: '-20px',\n        marginLeft: '15px',\n        fontFamily: 'Acme'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 57\n      }\n    }, \"Percent\")))), /*#__PURE__*/React.createElement(\"th\", {\n      style: {\n        width: '20%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      style: {\n        marginLeft: '70px',\n        top: '130%',\n        position: 'sticky',\n        fontFamily: 'Acme'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 71\n      }\n    }, \"Tax\")), /*#__PURE__*/React.createElement(\"th\", {\n      style: {\n        width: '20%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      style: {\n        marginLeft: '45px',\n        fontSize: '16px',\n        fontFamily: 'Acme'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 71\n      }\n    }, \"Amount\")))), /*#__PURE__*/React.createElement(\"tbody\", {\n      className: this.state.active,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 37\n      }\n    }, prod)), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-outline-success mt-5\",\n      onClick: this.handleAddEvent,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 33\n      }\n    }, \"Add Another Entry\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"terms\",\n      className: \"mt-3\",\n      style: {\n        fontSize: '20px',\n        fontFamily: 'Acme'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 45\n      }\n    }, \"Customer Notes\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      className: \"form-control\",\n      rows: \"3\",\n      style: {\n        width: '80%'\n      },\n      onChange: this.changeHandler,\n      name: \"notes\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 45\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        fontSize: '20px',\n        marginLeft: '285px',\n        fontFamily: 'Acme'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 41\n      }\n    }, \"SubTotal:\"), /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        fontSize: '20px',\n        marginLeft: '28px',\n        fontFamily: 'Acme'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 41\n      }\n    }, \"Rs \", this.renderSubtotal()), /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        fontSize: '20px',\n        marginLeft: '325px',\n        fontFamily: 'Acme'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 41\n      }\n    }, \"GST:\"), /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        fontSize: '20px',\n        marginLeft: '30px',\n        fontFamily: 'Acme'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 41\n      }\n    }, \"Rs \", this.renderTax()), /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        fontSize: '20px',\n        marginLeft: '285px',\n        fontFamily: 'Acme'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 41\n      }\n    }, \"Discount:\"), /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        fontSize: '20px',\n        marginLeft: '30px',\n        fontFamily: 'Acme'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 41\n      }\n    }, \"Rs \", this.renderDiscount()), /*#__PURE__*/React.createElement(\"hr\", {\n      style: {\n        width: '43%',\n        color: 'black',\n        marginLeft: '263px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 481,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"mt-2\",\n      style: {\n        fontSize: '20px',\n        marginLeft: '290px',\n        fontFamily: 'Acme'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 41\n      }\n    }, \"Amount:\"), /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        fontSize: '20px',\n        marginLeft: '30px',\n        fontFamily: 'Acme'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 41\n      }\n    }, \"Rs \", this.renderAmount()))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"terms\",\n      className: \"mt-3\",\n      style: {\n        fontSize: '20px',\n        fontFamily: 'Acme'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 37\n      }\n    }, \"Terms & Conditions\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      className: \"form-control\",\n      rows: \"4\",\n      style: {\n        width: '50%'\n      },\n      onChange: this.changeHandler,\n      name: \"terms_and_conditions\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 488,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-outline-success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 492,\n        columnNumber: 33\n      }\n    }, \"Submit\")))))));\n  }\n\n}","map":{"version":3,"sources":["F:/Home/github/erp-web/build_version/erp_system/src/components/purchase/purchasecreate.js"],"names":["React","axios","PurchaseRow","PurchaseCreate","Component","constructor","state","handleAddEvent","event","len1","purchased_items","length","id","toString","purchased_item","product","quantity","discount","discount_type","price","tax","taxx","sub_total","push","setState","handleProductTable","preventDefault","item","target","name","value","slice","newProducts","map","key","len","pro","found","items","findIndex","o1","productnew","rate","console","log","updateTax","renderSubtotal","total_subtotal","i","renderDiscount","total_discount","Number","renderTax","total_tax","renderAmount","total_amount","changeHandler","e","currentState","updateHandler","submitHandler","someDate","Date","setDate","getDate","date","toISOString","substr","some","date2","purno","pur","concat","parseInt","invoice_date","expected_delivery","invoice_no","sale_invoice","supplier","payment_terms","notes","terms_and_conditions","post","then","res","catch","err","active","filterText","description","hsn_code","sku","selling_price","suppliers","first_name","last_name","display_name","taxes","tax1","tax2","tax3","tax4","tax5","pa","handleUserInput","componentDidMount","get","data","t","t1","message","render","onProductTableUpdate","supplierss","supp","prod","indexOf","border","boxShadow","fontSize","fontFamily","width","marginLeft","marginTop","top","position","color"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios'\nimport PurchaseRow from \"../purchase/purchaserow\"\nexport default class PurchaseCreate extends React.Component {\n    constructor(state)\n    {\n        super(state);\n        this.state={\n            active:false,\n            filterText:\"\",\n            pur:\"\",\n            items:[\n                {\n                    id:' ',\n                    name:' ',\n                    description:' ',\n                    hsn_code:' ',\n                    sku:' ',\n                    tax:[],\n                    selling_price:' '\n                }\n            ],\n            suppliers:[\n                {\n                    id:' ',\n                    first_name:' ',\n                    last_name:' ',\n                    display_name:' '\n                }\n            ],\n            supplier:' ',\n            taxes:[\n                {\n                    tax1:'GST 0',\n                    tax2:'GST 5',\n                    tax3:'GST 12',\n                    tax4:'GST 18',\n                    tax5:'GST 28'\n                }\n            ],\n            invoice_no:' ',\n            invoice_date:' ',\n            payment_terms:' ',\n            expected_delivery:' ',\n            purchased_items:[\n                {\n                    id:'1',\n                    price:' ',\n                    quantity:' ',\n                    discount_type:' ',\n                    discount:' ',\n                    sub_total:' ',\n                    product:' ',\n                    tax:' ',\n                    taxx:' '\n                }\n            ],\n            pa:[],\n            notes:' ',\n            terms_and_conditions:' ',\n            total_subtotal:' ',\n            total_tax:' ',\n            total_discount:' ',\n            total_amount:' '\n        };\n    };\n    handleUserInput(filterText)\n    {\n        this.setState({filterText:filterText});\n    }\n    handleAddEvent = (event) =>\n    {\n        var len1=this.state.purchased_items.length;\n        var id=(len1 +1).toString();\n        var purchased_item={\n            id:id,\n            product:\"\",\n            quantity:\"\",\n            discount:\"\",\n            discount_type:\"\",\n            price:\"\",\n            tax:\"\",\n            taxx:\"\",\n            sub_total:\"\"\n        }\n        this.state.purchased_items.push(purchased_item);\n        this.setState(this.state.purchased_items);\n    }\n    handleProductTable = (event) =>\n    {\n        event.preventDefault()\n        var item={\n            id:event.target.id,\n            name:event.target.name,\n            value:event.target.value\n        };\n        var purchased_items=this.state.purchased_items.slice();\n        var newProducts=purchased_items.map(function(purchased_item) {\n            for (var key in purchased_item) {\n                if(key == item.name && purchased_item.id == item.id) \n                {\n                    purchased_item[key]=item.value;\n                }\n            }\n            return purchased_item;\n        });\n        this.setState({purchased_items:newProducts})\n        var len=this.state.purchased_items.length;\n        var pro=(this.state.purchased_items)[len-1].product\n        const found=(this.state.items).findIndex(o1 => o1.id == pro);\n        const productnew=[...this.state.purchased_items];\n        productnew[len-1].taxx=(this.state.items)[found].tax.rate;\n        productnew[len-1].tax=(this.state.items)[found].tax.id;\n        this.setState({purchased_items:productnew})\n        console.log(this.state.purchased_items)\n    };\n    updateTax = (event) => {\n        event.preventDefault();\n        const productnew=[...this.state.purchased_items];\n        var len=productnew.length;\n        if(len == 1)\n        {\n            productnew[0].taxx=(event.target.value).slice(3,6);\n            this.setState({purchased_items:productnew})\n        }\n        if(len > 1)\n        {\n            productnew[len - 1].taxx=(event.target.value).slice(3,6);\n            this.setState({purchased_items:productnew})\n        }\n    }\n    renderSubtotal = () => {\n        var len=this.state.purchased_items.length;\n        var total_subtotal=0;\n        for(var i=0;i<len;i++)\n        {\n            if(len==1)\n            {\n                total_subtotal=total_subtotal+(this.state.purchased_items[i].price)*(this.state.purchased_items[i].quantity);\n            }\n            if(len>1)\n            {\n                total_subtotal=total_subtotal+(this.state.purchased_items[i].price)*(this.state.purchased_items[i].quantity);\n            }\n        }\n        return total_subtotal;\n    }\n    renderDiscount = () => {\n        var len=this.state.purchased_items.length;\n        var  total_discount=0;\n        for(var i=0;i<len;i++)\n        {\n            if(len == 1 && ((this.state.purchased_items)[i].discount_type) == 'amount' )\n            {\n                total_discount=(total_discount +  Number((this.state.purchased_items[i]).discount));\n            }\n            if(len==1 && ((this.state.purchased_items)[i].discount_type) == 'percentage' )\n            {\n                total_discount=total_discount + (((this.state.purchased_items[i]).discount)*((this.state.purchased_items)[i].quantity)*((this.state.purchased_items)[i].price))/100;\n            }\n            if(len > 1 && ((this.state.purchased_items)[0].discount_type) == 'amount' )\n            {\n                total_discount=(total_discount + Number((this.state.purchased_items[i]).discount));\n            }\n            if(len > 1 && ((this.state.purchased_items)[0].discount_type) == 'percentage' )\n            {\n                total_discount=total_discount + (((this.state.purchased_items[i]).discount)*((this.state.purchased_items)[i].quantity)*((this.state.purchased_items)[i].price))/100;\n            }\n        }\n        return total_discount;\n    }\n    renderTax = () => {\n        var len=this.state.purchased_items.length;\n        var total_tax=0;\n        for(var i=0;i<len;i++)\n        {\n            if(len==1)\n            {\n                total_tax= total_tax + ((this.state.purchased_items[i].price)*(this.state.purchased_items[i].taxx)*(this.state.purchased_items[i].quantity))/100;\n            }\n            if(len > 1)\n            {\n                total_tax=total_tax + ((this.state.purchased_items[i].price)*(this.state.purchased_items[i].taxx)*(this.state.purchased_items[i].quantity))/100;\n            }\n        }\n        return total_tax;\n    }\n    renderAmount = () => {\n        var len=this.state.purchased_items.length;\n        var total_amount=0;\n        for(var i=0;i<len;i++)\n        {\n            if(len==1 && (this.state.purchased_items)[i].discount_type == 'amount' )\n            {\n                total_amount= total_amount + (this.state.purchased_items[i].price)*(this.state.purchased_items[i].quantity) + ((this.state.purchased_items[i].price)*(this.state.purchased_items[i].taxx)*(this.state.purchased_items[i].quantity))/100 - Number((this.state.purchased_items)[i].discount);\n            }\n            if(len==1 && (this.state.purchased_items)[i].discount_type == 'percentage' )\n            {\n                total_amount= total_amount + (this.state.purchased_items[i].price)*(this.state.purchased_items[i].quantity) + ((this.state.purchased_items[i].price)*(this.state.purchased_items[i].taxx)*(this.state.purchased_items[i].quantity))/100 - (((this.state.purchased_items)[i].discount)*((this.state.purchased_items)[i].price)*((this.state.purchased_items)[i].quantity))/100;\n            }\n            if(len > 1 && (this.state.purchased_items)[0].discount_type == 'amount' )\n            {\n                total_amount= total_amount + (this.state.purchased_items[i].price)*(this.state.purchased_items[i].quantity) + ((this.state.purchased_items[i].price)*(this.state.purchased_items[i].taxx)*(this.state.purchased_items[i].quantity))/100 - Number((this.state.purchased_items)[i].discount);\n            }\n            if(len > 1 && (this.state.purchased_items)[0].discount_type == 'percentage' )\n            {\n                total_amount= total_amount + (this.state.purchased_items[i].price)*(this.state.purchased_items[i].quantity) + ((this.state.purchased_items[i].price)*(this.state.purchased_items[i].taxx)*(this.state.purchased_items[i].quantity))/100 - (((this.state.purchased_items)[i].discount)*((this.state.purchased_items)[i].price)*((this.state.purchased_items)[i].quantity))/100;\n            }\n        }\n        return total_amount;\n    }\n    changeHandler =(e) => {\n        const {purchased_items}= {...this.state};\n        const currentState=purchased_items;\n        const {name,value}=e.target;\n        currentState[name]=value;\n        this.setState({[e.target.name]: e.target.value ,purchased_items:currentState})\n    }\n    updateHandler = (e) => {\n        const item=[...this.state.purchased_items];\n        var len=item.length;\n        if(len==1)\n        {\n            item[0].discount_type=e.target.value;\n            this.setState({purchased_items:item})\n        }\n        if(len > 1)\n        {\n            item[len-1].discount_type=(this.state.purchased_items)[0].discount_type;\n            this.setState({purchased_items:item})\n        }\n    }\n    submitHandler = async (e) => {\n        e.preventDefault();\n        var total_subtotal=this.renderSubtotal();\n        var total_tax=this.renderTax();\n        var total_discount=this.renderDiscount();\n        var total_amount=this.renderAmount();\n        var someDate = new Date();\n        someDate.setDate(someDate.getDate() + 0);\n        var date = someDate.toISOString().substr(0, 10);\n        var some=new Date();\n        some.setDate(some.getDate() + 5);\n        var date2=some.toISOString().substr(0,10);\n        var purno=((this.state.pur).slice(((this.state.pur).length-2),(this.state.pur).length) ) > 0 ? (this.state.pur).slice(0,(this.state.pur).length-1).concat(parseInt((this.state.pur).slice(((this.state.pur).length-2),(this.state.pur).length))+1) : this.state.pur;\n        await this.setState({total_subtotal:total_subtotal,total_discount:total_discount,total_tax:total_tax,total_amount:total_amount,invoice_date:date,expected_delivery:date2,invoice_no:purno})\n        const item=[...this.state.purchased_items];\n        var len=this.state.purchased_items.length;\n        for(var i=0;i<len;i++)\n        {\n            item[i].sub_total=((this.state.purchased_items)[i].price)*((this.state.purchased_items)[i].quantity);\n            item[i].discount_type=((this.state.purchased_items)[0]).discount_type\n            await this.setState({purchased_items:item})\n        }\n        const sale_invoice={\n            supplier:this.state.supplier,\n            invoice_no:this.state.invoice_no,\n            invoice_date:this.state.invoice_date,\n            payment_terms:this.state.payment_terms,\n            expected_delivery:this.state.expected_delivery,\n            purchased_items:this.state.purchased_items,\n            total_subtotal:this.state.total_subtotal,\n            total_tax:this.state.total_tax,\n            total_discount:this.state.total_discount,\n            total_amount:this.state.total_amount,\n            notes:this.state.notes,\n            terms_and_conditions:this.state.terms_and_conditions\n        }\n        console.log(sale_invoice)\n        await axios.post(\"https://farzi-erp.herokuapp.com/invoice/purchase_invoice/?ordering=created_at\",sale_invoice)\n            .then(res => {\n                console.log(res);\n            })\n            .catch(err => {\n                console.log(err)\n            })\n    }\n    async componentDidMount()\n    {\n        await axios.get(\"https://farzi-erp.herokuapp.com/persons_manager/supplier/?ordering=created_at\")\n            .then(res => {\n                this.setState({suppliers:res.data})\n                console.log(res)\n            })\n            .catch(err => {\n                console.log(err);\n            })\n        await axios.get(\"https://farzi-erp.herokuapp.com/shared/payment_terms/?ordering=created_at\")\n            .then(res => {\n                var t=res.data.length;\n                for(var i=0;i<t;i++)\n                {\n                    var t1=(res.data)[i].id;\n                    this.setState({\n                        pa:[...this.state.pa,t1]\n                    })\n                }\n                console.log(res);\n            })\n            .catch(err => {\n                console.log(err);\n            })\n        await axios.get(\"https://farzi-erp.herokuapp.com/inventory/product/?ordering=created_at\")\n            .then(res => {\n                this.setState({items:res.data})\n                console.log(res)\n            })\n            .catch(err => {\n                console.log(err.message)\n            })\n        await axios.get(\"https://farzi-erp.herokuapp.com/invoice/purchase_invoice/?ordering=created_at\")\n            .then(res => {\n                var t=res.data.length;\n                var t1=(res.data)[t-1].invoice_no;\n                this.setState({pur:t1})\n                console.log(res)\n            })\n            .catch(err => {\n                console.log(err)\n            })\n    }\n    render() {\n        var someDate = new Date();\n        someDate.setDate(someDate.getDate() + 0);\n        var date = someDate.toISOString().substr(0, 10);\n        var some=new Date();\n        some.setDate(some.getDate() + 5);\n        var date2=some.toISOString().substr(0,10);\n        var onProductTableUpdate=this.handleProductTable;\n        var changeHandler=this.changeHandler;\n        var items=this.state.items;\n        var filterText=this.state.filterText;\n        let supplierss=this.state.suppliers;\n        let suppliers=supplierss.map((supp) => \n            <option value={supp.id}>{supp.display_name}</option>)\n        var prod=this.state.purchased_items.map(function(prod) {\n            if(prod.product.indexOf(filterText) === -1)\n            {\n                return ;\n            }\n            return (<PurchaseRow onProductTableUpdate={onProductTableUpdate} changeHandler={changeHandler} prod={prod} key={prod.id}   items={items} />)\n        })\n      return (\n        <section className=\"content\">\n            <div className=\"row\">\n                <div className=\"col-md-12\">\n                    <div className=\"card card-primary\" style={{border:'none',boxShadow:'0 0 1px rgba(0,0,0,0.1), 0 1px 2px rgba(0,0,0,0.1)'}}>\n                        <div className=\"card-header\">\n                            <h3 className=\"card-title\" style={{fontSize:'22px',fontFamily:'Acme'}}>New Purchase</h3>\n                        </div>\n                        <form className=\"form-horizontal\" onSubmit={this.submitHandler}>\n                            <div className=\"card-body\">\n                                <div className=\"form-group row\">\n                                    <label className=\"col-sm-2 col-form-label\" style={{fontSize:'20px',fontFamily:'Acme'}}>SupplierName *</label>\n                                    <div className=\"col-sm-10\">\n                                        <select className=\"form-control\" onChange={this.changeHandler}  name=\"supplier\" >\n                                            <option value=\" \" disabled selected>Choose name</option>\n                                            {suppliers}\n                                        </select>\n                                    </div>\n                                </div>\n                                <div className=\"form-group row\">\n                                    <label className=\"col-sm-2 col-form-label\" style={{fontSize:'20px',fontFamily:'Acme'}}>Purchase No *</label>\n                                    <div className=\"col-sm-10\">\n                                        <input type=\"text\" className=\"form-control\" onChange={this.changeHandler} name=\"invoice_no\" value={((this.state.pur).slice(((this.state.pur).length-2),(this.state.pur).length) ) > 0 ? (this.state.pur).slice(0,(this.state.pur).length-1).concat(parseInt((this.state.pur).slice(((this.state.pur).length-2),(this.state.pur).length))+1) : this.state.pur}></input>\n                                    </div>\n                                </div>\n                                <div className=\"form-group row\">\n                                    <label className=\"col-sm-2 col-form-label\" style={{fontSize:'20px',fontFamily:'Acme'}}>Purchase Date</label>\n                                    <div className=\"col-sm-2\">\n                                        <input type=\"date\" className=\"form-control\" id=\"today\" defaultValue={date} onLoad={this.updateHandler} name=\"invoice_date\" />\n                                    </div>\n                                    <label className=\"col-sm-1 col-form-label\" style={{fontSize:'20px',fontFamily:'Acme'}}>Terms</label>\n                                    <div className=\"col-sm-2\">\n                                        <select className=\"form-control\" onChange={this.changeHandler} name=\"payment_terms\">\n                                            <option value={this.state.pa[0]}>Net 15</option>\n                                            <option value={this.state.pa[1]}>Net 30</option>\n                                            <option value={this.state.pa[2]}>Net 45</option>\n                                            <option value={this.state.pa[3]}>Net 60</option>\n                                            <option value={this.state.pa[4]}>Due end of month</option>nvoice\n                                            <option value={this.state.pa[5]}>Due end of next month</option>\n                                            <option value={this.state.pa[6]}>Due on receipt</option>\n                                        </select>\n                                    </div>\n                                    <label className=\"col-sm-3 col-form-label \" style={{fontSize:'20px',fontFamily:'Acme'}}>Expected Delivery</label>\n                                    <div className=\"col-sm-2\">\n                                        <input type=\"date\" className=\"form-control\" defaultValue={date2}></input>\n                                    </div>\n                                </div>\n                                <table className=\"table table-bordered\">\n                                    <thead>\n                                        <tr>\n                                            <th style={{width:'20%'}}><h6 style={{marginLeft:'40px',fontSize:'16px',fontFamily:'Acme'}}>Item Details</h6></th>\n                                            <th ><h6 style={{marginLeft:'0px',fontSize:'16px',fontFamily:'Acme'}}>Quantity</h6></th>\n                                            <th style={{width:'20%'}}><h6 style={{marginLeft:'35px',fontSize:'16px',fontFamily:'Acme'}}>Price/Quantity</h6></th>\n                                            <th style={{width:'20%'}}>\n                                                <div className=\"row\">\n                                                    <div className=\"col-6\">\n                                                        <h6 style={{marginTop:'22px',fontFamily:'Acme'}}>Discount</h6>\n                                                    </div>\n                                                    <div className=\"col-6\">\n                                                        <input type=\"radio\" value=\"amount\" name=\"discount_type\" id=\"amount\" onChange={this.updateHandler} style={{marginLeft:'-5px'}}/>\n                                                        <h6  for=\"amount\" style={{fontSize:'14px',marginTop:'-20px',marginLeft:'15px',fontFamily:'Acme'}}>Amount</h6>\n                                                        <input type=\"radio\" value=\"percentage\" name=\"discount_type\" id=\"percentage\" onChange={this.updateHandler} style={{marginLeft:'-5px'}}/>\n                                                        <h6  for=\"percentage\" style={{fontSize:'14px',marginTop:'-20px',marginLeft:'15px',fontFamily:'Acme'}}>Percent</h6>\n                                                    </div>\n                                                </div>\n                                            </th>\n                                            <th style={{width:'20%'}}><h6 style={{marginLeft:'70px',top:'130%',position:'sticky',fontFamily:'Acme'}}>Tax</h6>\n                                        {/*<div className=\"dropdown\"> \n                                                <button className=\"btn dropdown-toggle\" type=\"button\" id=\"dropdownMenu2\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\" style={{width:'100%',fontFamily:'Acme'}}>Tax\n                                                    <span className=\"caret\" style={{marginLeft:'18px'}}></span>\n                                                </button>\n                                                <ul className=\"dropdown-menu dropdown-menu-lg\">\n                                                    <li>\n                                                        <h6 style={{marginLeft:'-10px'}}>\n                                                            <button type=\"button\" className=\"btn\" onClick={this.updateTax} value={this.state.taxes[0].tax1} style={{width:'100%'}}>\n                                                                {this.state.taxes[0].tax1}\n                                                            </button>\n                                                        </h6>\n                                                    </li>\n                                                    <li>                                                        <div className=\"dropdown-divider\"></div>\n                                                        <h6 style={{marginLeft:'-10px'}}>\n                                                            <button type=\"button\" className=\"btn\" onClick={this.updateTax} value={this.state.taxes[0].tax2} style={{width:'100%'}}>\n                                                                {this.state.taxes[0].tax2}\n                                                            </button>\n                                                        </h6></li>\n                                                    <li>\n                                                    <div className=\"dropdown-divider\"></div>\n                                                        <h6 style={{marginLeft:'-10px'}}>\n                                                            <button type=\"button\" className=\"btn\" onClick={this.updateTax} value={this.state.taxes[0].tax3} style={{width:'100%'}}>\n                                                                {this.state.taxes[0].tax3}\n                                                            </button>\n                                                        </h6>\n                                                    </li>\n                                                    <li>\n                                                    <div className=\"dropdown-divider\"></div>\n                                                        <h6 style={{marginLeft:'-10px'}}>\n                                                            <button type=\"button\" className=\"btn\" onClick={this.updateTax} value={this.state.taxes[0].tax4} style={{width:'100%'}}>\n                                                                {this.state.taxes[0].tax4}\n                                                            </button>\n                                                        </h6>\n                                                    </li>\n                                                    <li>\n                                                    <div className=\"dropdown-divider\"></div>\n                                                        <h6 style={{marginLeft:'-10px'}}>\n                                                            <button type=\"button\" className=\"btn\" onClick={this.updateTax} value={this.state.taxes[0].tax5} style={{width:'100%'}}>\n                                                                {this.state.taxes[0].tax5}\n                                                            </button>\n                                                        </h6>\n                                                    </li>\n                                                </ul>\n    </div>*/}\n                                            </th>\n                                            <th style={{width:'20%'}}><h6 style={{marginLeft:'45px',fontSize:'16px',fontFamily:'Acme'}}>Amount</h6></th>\n                                        </tr>\n                                    </thead>\n                                    <tbody className={this.state.active}>\n                                        {prod}\n                                    </tbody>\n                                </table>\n                                <button type=\"button\" className=\"btn btn-outline-success mt-5\" onClick={this.handleAddEvent}>Add Another Entry</button>\n                                <div className=\"row\">\n                                    <div className=\"col-6\">\n                                        <div className=\"form-group\">\n                                            <label for=\"terms\" className=\"mt-3\" style={{fontSize:'20px',fontFamily:'Acme'}}>Customer Notes</label>\n                                            <textarea className=\"form-control\" rows=\"3\" style={{width:'80%'}} onChange={this.changeHandler} name=\"notes\"></textarea>\n                                        </div>\n                                    </div>\n                                    <div className=\"col-6\">\n                                        <label style={{fontSize:'20px',marginLeft:'285px',fontFamily:'Acme'}}>SubTotal:</label>\n                                        <label style={{fontSize:'20px',marginLeft:'28px',fontFamily:'Acme'}}>Rs {this.renderSubtotal()}</label>\n                                        <label style={{fontSize:'20px',marginLeft:'325px',fontFamily:'Acme'}}>GST:</label>\n                                        <label style={{fontSize:'20px',marginLeft:'30px',fontFamily:'Acme'}}>Rs {this.renderTax()}</label>\n                                        <label style={{fontSize:'20px',marginLeft:'285px',fontFamily:'Acme'}}>Discount:</label>\n                                        <label style={{fontSize:'20px',marginLeft:'30px',fontFamily:'Acme'}}>Rs {this.renderDiscount()}</label>\n                                        {/*<label for=\"terms\" style={{fontSize:'15px',marginLeft:'326px'}}>CGST:</label>\n                                        <label style={{fontSize:'18px',marginLeft:'32px'}}>Rs {(this.renderTax())/2}</label>\n                                        <label for=\"terms\" style={{fontSize:'15px',marginLeft:'326px'}}>SGST:</label>\n    <label style={{fontSize:'18px',marginLeft:'32px'}}>Rs {(this.renderTax())/2}</label>*/}\n                                        <hr style={{width:'43%',color:'black',marginLeft:'263px'}}/>\n                                        <label  className=\"mt-2\" style={{fontSize:'20px',marginLeft:'290px',fontFamily:'Acme'}}>Amount:</label>\n                                        <label style={{fontSize:'20px',marginLeft:'30px',fontFamily:'Acme'}}>Rs {this.renderAmount()}</label>\n                                    </div>\n                                </div>\n                                <div className=\"form-group\">\n                                    <label for=\"terms\" className=\"mt-3\" style={{fontSize:'20px',fontFamily:'Acme'}}>Terms & Conditions</label>\n                                    <textarea className=\"form-control\" rows=\"4\" style={{width:'50%'}}  onChange={this.changeHandler} name=\"terms_and_conditions\"></textarea>\n                                </div>\n                            </div>\n                            <div className=\"card-footer\">\n                                <button  className=\"btn btn-outline-success\">Submit</button>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </section>\n        );\n  \n    }\n  \n  }"]},"metadata":{},"sourceType":"module"}