{"ast":null,"code":"var _jsxFileName = \"/home/Myst1cS0ul/github/erp-web/build_version/erp_system/src/components/invoice/invoicecreate.js\";\nimport React from 'react';\nimport InvoiceCreateTable from \"../invoice/invoicecreatetable\";\nimport axios from 'axios';\nexport default class InvoiceCreate extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.updateTax = event => {\n      event.preventDefault();\n      const productnew = [...this.state.products];\n      var len = productnew.length;\n\n      if (len == 1) {\n        productnew[0].taxx = event.target.value.slice(3, 6);\n        this.setState({\n          products: productnew\n        });\n      }\n\n      if (len > 1) {\n        productnew[len - 1].taxx = event.target.value.slice(3, 6);\n        this.setState({\n          products: productnew\n        });\n      }\n\n      console.log(this.state.products);\n    };\n\n    this.state = {};\n    this.state.color = 'black';\n    this.state.filterText = \"\";\n    this.state.products = [{\n      id: '1',\n      name: '',\n      quantity: '',\n      selling_price: '',\n      amount: '',\n      taxx: ''\n    }];\n    this.state.items = [{\n      id: ' ',\n      name: ' ',\n      description: ' ',\n      hsn_code: ' ',\n      sku: ' ',\n      tax: [],\n      quantity: ' ',\n      selling_price: ' '\n    }];\n    this.state.prod = [{\n      id: ' ',\n      name: ' ',\n      description: ' ',\n      hsn_code: ' ',\n      sku: ' ',\n      tax: [],\n      quantity: ' ',\n      selling_price: ' '\n    }];\n    this.state.taxes = [{\n      tax1: 'GST 5',\n      tax2: 'GST 10',\n      tax3: 'GST 12',\n      tax4: 'GST 18',\n      tax5: 'GST 28'\n    }];\n  }\n\n  handleUserInput(filterText) {\n    this.setState({\n      filterText: filterText\n    });\n  }\n\n  handleAddEvent(event) {\n    var id = (+new Date() + Math.floor(Math.random() * 999999)).toString(36);\n    var product = {\n      id: id,\n      name: \"\",\n      quantity: \"\",\n      selling_price: \"\",\n      taxx: \"\",\n      amount: \"\"\n    };\n    this.state.products.push(product);\n    this.setState(this.state.products);\n  }\n\n  handleProductTable(event) {\n    event.preventDefault();\n    var item = {\n      id: event.target.id,\n      name: event.target.name,\n      value: event.target.value\n    };\n    var products = this.state.products.slice();\n    var newProducts = products.map(function (product) {\n      for (var key in product) {\n        if (key == item.name && product.id == item.id) {\n          product[key] = item.value;\n        }\n      }\n\n      return product;\n    });\n    this.setState({\n      products: newProducts\n    });\n    console.log(this.state.items);\n    var len = this.state.items.length;\n    var len1 = this.state.products.length;\n\n    for (var i = 0; i < len1; i++) {\n      for (var j = 0; j < len; j++) {\n        if (this.state.products[i].name == this.state.items[j].name) {\n          console.log('Success');\n        } else {\n          const pro = [...this.state.products];\n          var len2 = pro.length;\n\n          if (len2 == 1) {\n            pro[0].name = ' ';\n            this.setState({\n              products: pro\n            });\n          }\n\n          if (len2 > 1) {\n            pro[len2 - 1].name = ' ';\n            this.setState({\n              products: pro\n            });\n          }\n        }\n      }\n    }\n    /*var pro=(this.state.products).filter(o1 => (this.state.items).some(o2 => o1.name === o2.name));\n    var len=pro.length;\n    var len1=this.state.products.length\n    if(len1==1)\n    {\n        if(len==0)\n        {\n            this.setState({color:'red'})\n        }\n        if(len>=1)\n        {\n            if(((pro[len-1]).name).length >= 1)\n            {\n                this.setState({color:'black'})\n            }{this.props.cellData.value\n        }   \n    }\n    if(len1 >1)\n    {\n        if(len == 1)\n        {\n            this.setState({color:'red'})\n        }\n        if(((pro[len-1]).name) == (this.state.products)[len1-1].name)\n        {\n            this.setState({color:'black'})\n        }\n    }\n    console.log(len)*/\n\n  }\n\n  componentDidMount() {\n    axios.get(\"https://farzi-erp.herokuapp.com/inventory/product/?ordering=created_at\").then(res => {\n      this.setState({\n        items: res.data\n      });\n      console.log(res);\n    }).catch(err => {\n      console.log(err.message);\n    });\n  }\n\n  render() {\n    return React.createElement(InvoiceCreateTable, {\n      onProductTableUpdate: this.handleProductTable.bind(this),\n      onRowAdd: this.handleAddEvent.bind(this),\n      products: this.state.products,\n      filterText: this.state.filterText,\n      invoice: this.props.invoice,\n      taxes: this.state.taxes,\n      updateTax: this.updateTax,\n      items: this.state.items,\n      color: this.state.color,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    });\n  }\n\n}","map":{"version":3,"sources":["/home/Myst1cS0ul/github/erp-web/build_version/erp_system/src/components/invoice/invoicecreate.js"],"names":["React","InvoiceCreateTable","axios","InvoiceCreate","Component","constructor","props","updateTax","event","preventDefault","productnew","state","products","len","length","taxx","target","value","slice","setState","console","log","color","filterText","id","name","quantity","selling_price","amount","items","description","hsn_code","sku","tax","prod","taxes","tax1","tax2","tax3","tax4","tax5","handleUserInput","handleAddEvent","Date","Math","floor","random","toString","product","push","handleProductTable","item","newProducts","map","key","len1","i","j","pro","len2","componentDidMount","get","then","res","data","catch","err","message","render","bind","invoice"],"mappings":"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","sourcesContent":["import React from 'react';\nimport InvoiceCreateTable from \"../invoice/invoicecreatetable\";\nimport axios from 'axios';\nexport default class InvoiceCreate extends React.Component {\n    constructor(props)\n    {\n        super(props);\n        this.state={};\n        this.state.color='black'\n        this.state.filterText=\"\";\n        this.state.products=[\n            {\n                id:'1',\n                name:'',\n                quantity:'',\n                selling_price:'',\n                amount:'',\n                taxx:''\n            },\n        ];\n        this.state.items=[\n            {\n                id:' ',\n                name:' ',\n                description:' ',\n                hsn_code:' ',\n                sku:' ',\n                tax:[],\n                quantity:' ',\n                selling_price:' '\n            }\n        ]\n        this.state.prod=[\n            {\n                id:' ',\n                name:' ',\n                description:' ',\n                hsn_code:' ',\n                sku:' ',\n                tax:[],\n                quantity:' ',\n                selling_price:' '\n            }\n        ]\n        this.state.taxes=[\n            {\n                tax1:'GST 5',\n                tax2:'GST 10',\n                tax3:'GST 12',\n                tax4:'GST 18',\n                tax5:'GST 28'\n            }\n        ]\n    };\n    handleUserInput(filterText)\n    {\n        this.setState({filterText:filterText});\n    }\n    handleAddEvent(event)\n    {\n        var id = (+ new Date() + Math.floor(Math.random() * 999999)).toString(36);\n        var product={\n            id:id,\n            name:\"\",\n            quantity:\"\",\n            selling_price:\"\",\n            taxx:\"\",\n            amount:\"\"\n        }\n        this.state.products.push(product);\n        this.setState(this.state.products);\n    }\n    handleProductTable(event)\n    {\n        event.preventDefault()\n        var item={\n            id:event.target.id,\n            name:event.target.name,\n            value:event.target.value\n        };\n        var products=this.state.products.slice();\n        var newProducts=products.map(function(product) {\n            for (var key in product) {\n                if(key == item.name && product.id == item.id) \n                {\n                    product[key]=item.value;\n                }\n            }\n            return product;\n        });\n        this.setState({products:newProducts})\n        console.log(this.state.items)\n        var len=this.state.items.length;\n        var len1=this.state.products.length;\n        for(var i=0;i<len1;i++)\n        {\n            for(var j=0;j<len;j++)\n            {\n                if(((this.state.products)[i]).name == ((this.state.items)[j]).name)\n                {\n                    console.log('Success')\n                }\n                else\n                {\n                    const pro=[...this.state.products];\n                    var len2=pro.length;\n                    if(len2==1)\n                    {\n                        pro[0].name=' ';\n                        this.setState({products:pro})\n                    }\n                    if(len2 > 1)\n                    {\n                        pro[len2-1].name=' ';\n                        this.setState({products:pro})\n                    }\n                }\n            }\n        }\n        /*var pro=(this.state.products).filter(o1 => (this.state.items).some(o2 => o1.name === o2.name));\n        var len=pro.length;\n        var len1=this.state.products.length\n        if(len1==1)\n        {\n            if(len==0)\n            {\n                this.setState({color:'red'})\n            }\n            if(len>=1)\n            {\n                if(((pro[len-1]).name).length >= 1)\n                {\n                    this.setState({color:'black'})\n                }{this.props.cellData.value\n            }   \n        }\n        if(len1 >1)\n        {\n            if(len == 1)\n            {\n                this.setState({color:'red'})\n            }\n            if(((pro[len-1]).name) == (this.state.products)[len1-1].name)\n            {\n                this.setState({color:'black'})\n            }\n        }\n        console.log(len)*/\n    };\n    updateTax = (event) => {\n        event.preventDefault();\n        const productnew=[...this.state.products];\n        var len=productnew.length;\n        if(len == 1)\n        {\n            productnew[0].taxx=(event.target.value).slice(3,6);\n            this.setState({products:productnew})\n        }\n        if(len > 1)\n        {\n            productnew[len - 1].taxx=(event.target.value).slice(3,6);\n            this.setState({products:productnew})\n        }\n        console.log(this.state.products)\n    }\n    componentDidMount()\n    {\n        axios.get(\"https://farzi-erp.herokuapp.com/inventory/product/?ordering=created_at\")\n            .then(res => {\n                this.setState({items:res.data})\n                console.log(res)\n            })\n            .catch(err => {\n                console.log(err.message)\n            })\n    }\n    render() {\n      return (\n            <InvoiceCreateTable onProductTableUpdate={this.handleProductTable.bind(this)} onRowAdd={this.handleAddEvent.bind(this)} products={this.state.products} filterText={this.state.filterText} invoice={this.props.invoice} taxes={this.state.taxes} updateTax={this.updateTax} items={this.state.items} color={this.state.color} />\n        );\n  \n    }\n  \n  }"]},"metadata":{},"sourceType":"module"}